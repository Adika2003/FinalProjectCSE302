{% extends 'base.html' %}
{% block content %}
<h1>{{ club.name }} Members</h1>

<!-- Convener -->
{% if convener %}
  <div style="text-align:center; margin:20px;">
    <h2>Convener</h2>
    {% if convener.photo %}
      <img src="{{ convener.photo.url }}" style="max-width:200px; border-radius:10px;">
    {% endif %}
    <h3>{{ convener.name }}</h3>
    <p>{{ convener.role }}</p>
    <p>{{ convener.email }}</p>
    {% if user.is_authenticated %}
      <a href="{% url 'members:update' convener.pk %}">
        <button>Update Profile</button>
      </a>
    {% endif %}
  </div>
{% endif %}

<!-- Executive Members -->
<h2>Executive Members</h2>
<div style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center;">
  {% for m in executives %}
    <div style="border:1px solid #ddd; border-radius:10px; padding:15px; width:250px; text-align:center;">
      {% if m.photo %}
        <img src="{{ m.photo.url }}" style="max-width:150px; border-radius:10px;">
      {% endif %}
      <h3>{{ m.name }}</h3>
      <p>{{ m.role }}</p>
      <p>{{ m.batch }}</p>
      <p>{{ m.email }}</p>
      {% if user.is_authenticated %}
        <a href="{% url 'members:update' m.pk %}">
          <button>Update Profile</button>
        </a>
      {% endif %}
    </div>
  {% empty %}
    <p>No executive members found.</p>
  {% endfor %}
</div>

<!-- General Members -->
{% if generals %}
<h2>General Members</h2>
<ul>
  {% for g in generals %}
    <li>
      {{ g.name }} - {{ g.batch }} - {{ g.email }}
      {% if user.is_authenticated %}
        <a href="{% url 'members:update' g.pk %}">
          <button>Update Profile</button>
        </a>
      {% endif %}
    </li>
  {% endfor %}
</ul>
{% endif %}
{% endblock %}
